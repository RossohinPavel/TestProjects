# Тестовое задание для Backend-разработчика микросервисов компании ЗИТ

## Уровень 1

### Создание микросервиса

Разработайте микросервис с использованием FastAPI, который взаимодействует с базой данных PostgreSQL.
В приложении должны быть следующие эндпоинты:
Получение всех товаров (GET /products)
Добавление нового товара (POST /products)
Получение товара по его ID (GET /products/{id})
Получение товаров по типу (GET /products/type/{type_id})

### Схема базы данных

Таблица product_type:
    id (INTEGER, PRIMARY KEY)
    name (VARCHAR)
Таблица product:
    id (INTEGER, PRIMARY KEY)
    name (VARCHAR)
    product_type_id (INTEGER, FOREIGN KEY)
Миграции с Alembic:
Настройте Alembic для управления миграциями базы данных.
Создайте миграции для создания таблиц product_type и product.

### Docker и Docker Compose

Упакуйте ваше приложение и PostgreSQL в контейнеры с использованием Docker и Docker Compose.
Создайте Dockerfile для вашего приложения.
Создайте файл docker-compose.yml для запуска приложения и базы данных PostgreSQL.
Управление зависимостями:
Используйте **Poetry** для управления зависимостями.

## Уровень 2

### Написание тестов

Напишите тесты для всех 4 эндпоинтов API, используя pytest и httpx.
Документация:
Добавьте описание для каждого эндпоинта в FastAPI документации, используя параметры summary и description.

## Уровень 3

### Линтер

Настройте линтер для вашего проекта (например, flake8, black или другой инструмент линтинга).
Убедитесь, что весь код проходит проверку линтером, и исправьте все замечания.

### GitHub Actions Workflow

Создайте GitHub Actions Workflow для автоматического тестирования и проверки качества кода.
Настройте Workflow для выполнения следующих шагов:
Установка зависимостей (например, Poetry).
Запуск линтера.
Запуск тестов.

## Требования к выполнению задания

Создайте структуру проекта:
Инициализируйте проект с помощью Poetry.
Настройте FastAPI, Alembic, и необходимые библиотеки.
Разработайте приложение:
Реализуйте модели SQLAlchemy для таблиц product_type и product.
Реализуйте указанные эндпоинты API.
Настройте Docker и Docker Compose:
Создайте Dockerfile для вашего приложения.
Создайте файл docker-compose.yml для управления контейнерами.
Настройте Alembic:
Создайте файл конфигурации Alembic и миграции для создания таблиц.
Тестирование и документация:
Напишите тесты для всех эндпоинтов.
Добавьте описание для эндпоинтов в FastAPI документации.
Уровень 3 (дополнительные задачи):
Настройте линтер и убедитесь, что код проходит проверку.
Создайте GitHub Actions Workflow для автоматического тестирования и проверки качества кода.
Срок выполнения: 7 дней.
